<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å›¾ç‰‡&Base64è½¬æ¢å™¨</title>
<style>
*{box-sizing:border-box;font-family:system-ui, sans-serif;}
body{margin:20px;background:#242424;color:#fff;}
.container{max-width:900px;margin:0 auto;}
.panel{background:#2b2b3b;padding:16px;border-radius:10px;margin-bottom:12px;}
label{display:block;margin-bottom:6px;font-weight:500;}
textarea{width:100%;height:200px;padding:10px;border-radius:8px;border:none;background:#3c3c4e;color:#fff;font-size:14px;resize:vertical;}
button{padding:10px 16px;border-radius:8px;border:none;background:#7c3aed;color:#fff;font-size:14px;cursor:pointer;margin:5px 0;}
button:hover{background:#6d28d9;}
#preview{max-width:100%;max-height:400px;border-radius:8px;margin-top:10px;display:none;}
</style>
</head>
<body>
<div class="container">
  <h2><i>å›¾ç‰‡&Base64è½¬æ¢å™¨</i></h2>

<div class="panel">
  <label>â€¢é€‰æ‹©å›¾ç‰‡è½¬ Base64</label>
  <input type="file" id="imgFile" accept="image/*">
  <button onclick="imageToBase64()">å›¾ç‰‡ â†’ Base64</button>
</div>

<div class="panel">
  <label>Base64 ç»“æœ</label>
  <textarea id="base64Output" readonly placeholder="Base64 åœ¨è¿™é‡Œâ€¦"></textarea>
  <button onclick="copyBase64()">ğŸ“‹ å¤åˆ¶</button>
  <!-- ä½ è¦çš„ä¸€é”®å¡«å……æŒ‰é’® -->
  <button onclick="fillToImageInput()">â¬‡ï¸ä¸€é”®å¡«å……</button>
</div>

<div class="panel">
  <label>â€¢Base64 è½¬å›¾ç‰‡</label>
  <textarea id="base64Input" placeholder="ç²˜è´´å¸¦data:image/..Base64"></textarea>
  <button onclick="base64ToImage()">Base64 â†’ å›¾ç‰‡</button>
  <img id="preview">
</div>

</div>

<script>
// å›¾ç‰‡è½¬ Base64
function imageToBase64() {
  const fileInput = document.getElementById('imgFile');
  if (!fileInput.files[0]) return alert('è¯·å…ˆé€‰å›¾ç‰‡');
  
  const reader = new FileReader();
  reader.onload = e => {
    const base64 = e.target.result;
    document.getElementById('base64Output').value = base64;
    document.getElementById('preview').src = base64;
    document.getElementById('preview').style.display = 'block';
  };
  reader.readAsDataURL(fileInput.files[0]);
}

// Base64 è½¬å›¾ç‰‡
function base64ToImage() {
  const b64 = document.getElementById('base64Input').value.trim();
  if (!b64) return alert('è¯·ç²˜è´´ Base64');
  document.getElementById('preview').src = b64;
  document.getElementById('preview').style.display = 'block';
}

// å¤åˆ¶
function copyBase64() {
  const text = document.getElementById('base64Output').value;
  if (!text) return alert('æš‚æ— å†…å®¹');
  
  navigator.clipboard.writeText(text).then(() => {
    alert('âœ… å¤åˆ¶æˆåŠŸï¼');
  }).catch(err => {
    alert('âŒ å¤åˆ¶å¤±è´¥');
  });
}

// ğŸ”´ ä¸€é”®å¡«å……åˆ°ä¸‹é¢è½¬å›¾ç‰‡æ¡†
function fillToImageInput() {
  const output = document.getElementById('base64Output').value;
  if (!output) return alert('å…ˆç”Ÿæˆ Base64');
  document.getElementById('base64Input').value = output;
  alert('âœ… å·²å¡«å……åˆ°ä¸‹æ–¹ Base64 è¾“å…¥æ¡†ï¼');
}
</script>
</body>
</html>
